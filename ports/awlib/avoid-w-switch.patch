diff --git a/io/include/aw/io/mmap_file.h b/io/include/aw/io/mmap_file.h
index 9846973..65e82aa 100644
--- a/io/include/aw/io/mmap_file.h
+++ b/io/include/aw/io/mmap_file.h
@@ -83,18 +83,18 @@ using win32::file_mapping;
 inline file_mode get_file_mode(map_perms perms)
 {
 	using mp = map_perms;
-	switch (perms) {
-	case mp::none:
-	case mp::none|mp::exec:
+	switch (static_cast<unsigned>(perms)) {
+	case static_cast<unsigned>(mp::none):
+	case static_cast<unsigned>(mp::none|mp::exec):
 		return file_mode::none;
-	case mp::read:
-	case mp::read|mp::exec:
+	case static_cast<unsigned>(mp::read):
+	case static_cast<unsigned>(mp::read|mp::exec):
 		return file_mode::read;
-	case mp::write:
+	case static_cast<unsigned>(mp::write):
 		return file_mode::write;
-	case mp::write|mp::exec:
-	case mp::rdwr:
-	case mp::rdwr|mp::exec:
+	case static_cast<unsigned>(mp::write|mp::exec):
+	case static_cast<unsigned>(mp::rdwr):
+	case static_cast<unsigned>(mp::rdwr|mp::exec):
 		return file_mode::read|file_mode::write;
 	}
 

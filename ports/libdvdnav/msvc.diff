diff --git a/msvc/include/inttypes.h b/msvc/include/inttypes.h
index 4e1cbe1..5b7f18f 100644
--- a/msvc/include/inttypes.h
+++ b/msvc/include/inttypes.h
@@ -28,5 +28,6 @@
 #define _SYS_INTTYPES_H_
 
 #include <config.h>
+#include <stdint.h>
 
 #endif
diff --git a/msvc/include/sys/time.h b/msvc/include/sys/time.h
index 843e252..8014739 100644
--- a/msvc/include/sys/time.h
+++ b/msvc/include/sys/time.h
@@ -26,3 +26,4 @@
  */
 
 #include <time.h>
+#include <winsock2.h>
diff --git a/src/dvdnav_internal.h b/src/dvdnav_internal.h
index 495f032..7970596 100644
--- a/src/dvdnav_internal.h
+++ b/src/dvdnav_internal.h
@@ -39,6 +39,7 @@ typedef CRITICAL_SECTION pthread_mutex_t;
 #ifndef HAVE_GETTIMEOFDAY
 /* replacement gettimeofday implementation */
 #include <sys/timeb.h>
+#include <winsock2.h>
 static inline int _private_gettimeofday( struct timeval *tv, void *tz )
 {
   struct timeb t;
